import os.path

CONF_ROOT = os.path.dirname(__file__)

# Configure database credentials
DATABASES = {
    'default': {
        'ENGINE': '<%= @db_engine %>',
        'NAME': '<%= @db_name %>',
        'USER': '<%= @db_user %>',
        'PASSWORD': '<%= @db_password %>',
        'HOST': '<%= @db_host %>',
        'PORT': '<%= @db_port %>',
    }
}

# TODO: allow to enable caches
# CACHES = {
#     'default': {
#         'BACKEND': 'django.core.cache.backends.memcached.MemcachedCache',
#         'LOCATION': ['127.0.0.1:11211'],
#     }
# }

# TODO: allow to enable buffers
# SENTRY_USE_QUEUE = True
# BROKER_URL = 'redis://localhost:6379'
# SENTRY_BUFFER = 'sentry.buffer.redis.RedisBuffer'
# SENTRY_REDIS_OPTIONS = {
#     'hosts': {
#         0: {
#             'host': '127.0.0.1',
#             'port': 6379,
#         }
#     }
# }

SENTRY_KEY = '<%= @signing_token %>'

SENTRY_URL_PREFIX = '<%= @url_prefix %>'  # No trailing slash!

SENTRY_WEB_HOST = '<%= @web_host %>'
SENTRY_WEB_PORT = <%= @web_port %>
SENTRY_WEB_OPTIONS = <%= python_hash_string @web_options %>

# Mail server configuration
EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'
EMAIL_HOST = '<%= @email_host %>'
EMAIL_HOST_PASSWORD = '<%= @email_password %>'
EMAIL_HOST_USER = '<%= @email_user %>'
EMAIL_PORT = <%= @email_port %>
EMAIL_USE_TLS = <%= @email_use_tls ? "True" : "False" %>
